<div class="viewer" #viewer>
    <app-project-controls projectName="{{ project.name }}" projectDescription="{{ project.description }}"></app-project-controls>
    <div class="p-grid p-nogutter viewer-container">
        <div class="p-col-3 p-pt-5 p-pl-4">
            <project-steps></project-steps>
        </div>
        <div class="p-col-9 p-pl-3 p-pr-2 p-pt-5 viewer-container__step" *ngIf="currentStep; else showErrorState">
            <div class="step-container p-pb-3">
                <div class="p-mb-2 p-px-2">
                    <div class="p-grid p-nogutter p-pb-3">
                        <div class="p-col-6 p-d-flex p-ai-center">
                            <h2 class="ms-2 p-my-0">{{ currentStep.step.title }}</h2>
                        </div>
                        <div class="p-col-6 p-d-flex p-jc-end p-ai-center">
                            <step-controls></step-controls>
                        </div>
                    </div>
                </div>
                <div class="p-px-2">
                    <project-dynamic-form [fields]="currentStep.components" (dragAndDropEvent)="onDragAndDropEvent($event)"></project-dynamic-form>
                </div>
            </div>
        </div>
         <ng-template #showErrorState>
            <div class="p-col-6 p-d-flex p-ai-center">
                Failed to load current step
            </div>
        </ng-template>
    </div>
</div>
