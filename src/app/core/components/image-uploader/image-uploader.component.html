<app-base-field [field]="field" [index]="index">
    <div class="images view p-p-2">
        <div *ngIf="images" class="p-grid" style="max-width: 400px;">
            <div *ngFor="let image of images; let index = index" class="p-col-3" key="index">
                <img [src]="image.thumbnail" [alt]="image.alt" style="cursor: pointer" (click)="imageClick(index)" />
            </div>
        </div>
        <p-galleria
            [(value)]="images"
            [(visible)]="displayLightbox"
            [(activeIndex)]="activeIndex"
            [responsiveOptions]="responsiveOptions"
            [containerStyle]="{ 'max-width': '850px' }"
            [numVisible]="7"
            [circular]="true"
            [fullScreen]="true"
            [showItemNavigators]="true"
            [showThumbnails]="false"
            [baseZIndex]="100000"
        >
            <ng-template pTemplate="item" let-item>
                <img [src]="item.path" style="width: 100%; display: block;" />
            </ng-template>
            <ng-template pTemplate="caption" let-item>
                <h4 style="margin-bottom: .5rem; color: #ffffff;">{{ item.title }}</h4>
                <p>{{ item.alt }}</p>
            </ng-template>
            <ng-template pTemplate="thumbnail" let-item>
                <div class="p-grid p-nogutter p-justify-center">
                    <img [src]="item.path" style="display: block;" />
                </div>
            </ng-template>
        </p-galleria>
    </div>

    <ng-container *ngIf="componentMode === 'edit'">
        <p-toolbar>
            <div class="p-toolbar-group-left">
                <p-fileUpload
                    mode="basic"
                    name="images[]"
                    url="/"
                    accept="image/*"
                    maxFileSize="1000000"
                    multiple="multiple"
                    [auto]="true"
                    chooseLabel="Upload images"
                ></p-fileUpload>
            </div>

            <div class="p-toolbar-group-right">
                5 images
            </div>
        </p-toolbar>
    </ng-container>
</app-base-field>
