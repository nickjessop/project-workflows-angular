<div
    class="field p-mb-3 p-py-4 p-px-2"
    cdkDrag
    #fieldContainer
    (cdkDragStarted)="dragStarted()"
    (cdkDragReleased)="dragFinished()"
>
    <div class="field__handle"><i class="pi pi-drag" cdkDragHandle></i></div>
    <div class="p-d-flex p-jc-between p-ai-center p-mb-2">
        <div class="field__label">
            <p-inplace closable="true" closeIcon="pi pi-check">
                <ng-template pTemplate="display">
                    {{ field?.label ? field.label : '(Untitled block)' }}
                </ng-template>
                <ng-template pTemplate="content">
                    <input type="text" class="p-inputtext" [(ngModel)]="field.label" pInputText />
                </ng-template>
            </p-inplace>
        </div>
        <div class="field__settings">
            <button
                type="button"
                class="p-button-text p-button-plain"
                pButton
                icon="pi pi-ellipsis-h"
                (click)="menu.toggle($event)"
            ></button>
            <p-menu #menu [popup]="true" [model]="items" appendTo="body"></p-menu>
        </div>
    </div>
    <div class="field__description mb-2">Description</div>
    <ng-content></ng-content>
</div>
