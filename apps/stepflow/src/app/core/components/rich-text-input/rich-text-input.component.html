<project-drag-and-resize
    [isDraggable]="componentMode === 'configure'"
    [(field)]="field"
    [componentMode]="componentMode"
    [index]="index"
>
    <ng-container *ngIf="componentMode === 'view'">
        <div class="rich-text view">
            <div
                class="p-p-2"
                [innerHTML]="field.metadata.data.value ? field.metadata.data.value : 'No content added yet.'"
            ></div>
        </div>
    </ng-container>
    <ng-container *ngIf="componentMode === 'edit' || componentMode === 'configure'">
        <div class="rich-text edit">
            <p-editor
                placeholder="Add content"
                [(ngModel)]="field.metadata.data.value"
                [style]="{ height: '100%', fontSize: '1rem' }"
                formats="['Bold', 'Underline', 'Italic', 'Link']"
                styleClass="editor"
                (onSelectionChange)="onFocusIn($event)"
                #textBlock
            >
                <p-header>
                    <span class="ql-formats">
                        <button class="ql-bold" aria-label="Bold"></button>
                        <button class="ql-italic" aria-label="Italic"></button>
                        <button class="ql-underline" aria-label="Underline"></button>
                        <button class="ql-link" aria-label="Link"></button>
                    </span>
                </p-header>
            </p-editor>
            <div *ngIf="showSaveButton" class="p-d-flex p-align-center p-mt-2">
                <button (click)="saveTextblock()" class="p-button p-mr-2">Save</button>
                <i class="ms-01">Unsaved changes</i>
            </div>
        </div>
    </ng-container>
</project-drag-and-resize>
