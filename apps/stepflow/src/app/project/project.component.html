<div class="p-px-5 p-py-5 container">
    <div class="p-grid p-nogutter">
        <div class="p-col-6">
            <h1 class="p-m-0">Projects</h1>
        </div>
        <div class="p-col-6 p-d-flex p-ai-center p-jc-end">
            <new-project-dialog (onCreateNewProject)="onCreateNewProjectEvent($event)"></new-project-dialog>
        </div>
    </div>
</div>

<div class="projects p-py-3">
    <ng-container *ngIf="isLoadingProjects; else showProjects">
        <div class="p-d-flex p-jc-center p-py-6">
            <p-progressSpinner></p-progressSpinner>
        </div>
    </ng-container>

    <ng-template #showProjects>
        <div class="container p-px-5" *ngIf="projects?.length; else showNoProjects">
            <p-tabView>
                <p-tabPanel header="All projects">
                    <p-table [value]="projects" styleClass="p-datatable-gridlines p-datatable-lg p-py-3">
                        <ng-template pTemplate="body" let-project>
                            <project-card
                                class="project__card"
                                projectName="{{ project.name }}"
                                projectDescription="{{ project.description }}"
                                link="/project/{{ project.id }}"
                                projectId="{{ project.id }}"
                                (onDeleteProjectByIdEvent)="onDeleteProject($event)"
                            >
                            </project-card>
                        </ng-template>
                    </p-table>
                </p-tabPanel>
                <p-tabPanel header="Created by me">
                    <div class="p-py-3">Projects I'm the owner of</div>
                </p-tabPanel>
                <p-tabPanel header="Shared with me">
                    <div class="p-py-3">Projects I've been invited to</div>
                </p-tabPanel>
            </p-tabView>
        </div>
        <ng-template #showNoProjects>
            <div class="p-py-3">Looks like you're not a part of any projects yet.</div>
        </ng-template>
    </ng-template>
    <p-confirmDialog header="Delete Project?" icon="pi pi-exclamation-triangle"></p-confirmDialog>
</div>

<router-outlet></router-outlet>
