<project-drag-and-resize
    [(field)]="field"
    (componentMode)="setComponentMode($event)"
    [index]="index"
    [resizable]="false"
>
    <div class="draw" *ngIf="strokeHistory">
        <canvas
            (touchstart)="start($event)"
            (mousedown)="start($event)"
            (touchmove)="move($event)"
            (mousemove)="move($event)"
            (touchend)="end($event)"
            (touchleave)="end($event)"
            (mouseup)="end($event)"
            #blockCanvas
            style="width: 100%; height: 400px"
            >Sorry, your browser is not supported on the whiteboard block.</canvas
        >
        <div class="draw__options" *ngIf="componentMode === 'edit'">
            <button
                pButton
                type="button"
                icon="pi pi-undo"
                label="Undo"
                class="p-mr-2 p-button-secondary"
                (click)="undoDraw()"
            ></button>
        </div>
    </div>

    <ng-container *ngIf="!strokeHistory || strokeHistory === []">
        <div class="placeholder">
            <p>It's a blank canvas, start drawing!</p>
        </div>
    </ng-container>
</project-drag-and-resize>
